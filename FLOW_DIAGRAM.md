# ğŸ”„ Real-Time Invoice Financing - Flow Diagram

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     INVOICE FINANCING PLATFORM                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SELLER     â”‚         â”‚   INVESTOR   â”‚         â”‚    BUYER     â”‚
â”‚  (MSME)      â”‚         â”‚              â”‚         â”‚ (Corporate)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚                        â”‚
       â”‚ Creates Invoice        â”‚                        â”‚
       â”‚                        â”‚                        â”‚
       â–¼                        â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚                        â”‚
â”‚  FRONTEND       â”‚             â”‚                        â”‚
â”‚  React + MUI    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  Socket.IO      â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
         â”‚                      â”‚
         â”‚ HTTP POST            â”‚
         â”‚ /api/invoices/create â”‚
         â”‚                      â”‚
         â–¼                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         BACKEND SERVER                   â”‚
â”‚  Node.js + Express + Socket.IO          â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  1. Save Invoice to MongoDB    â”‚    â”‚
â”‚  â”‚  2. Set status = 'listed'      â”‚    â”‚
â”‚  â”‚  3. Emit WebSocket Event       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚
â”‚  wsService.notifyInvestors({            â”‚
â”‚    id, invoiceNumber, amount,           â”‚
â”‚    seller, buyer, dueDate               â”‚
â”‚  })                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ WebSocket Broadcast
             â”‚ Event: 'newInvoiceListed'
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ALL CONNECTED     â”‚
    â”‚  INVESTORS         â”‚
    â”‚  (Real-Time)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Receive Notification
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  INVESTOR UI       â”‚
    â”‚  - Notification ğŸ”” â”‚
    â”‚  - Marketplace     â”‚
    â”‚  - Invest Button   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ Click "Invest Now"
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  FUNDING PROCESS                   â”‚
    â”‚                                    â”‚
    â”‚  1. Validate wallet balance        â”‚
    â”‚  2. Deduct from investor wallet    â”‚
    â”‚  3. Add to seller wallet           â”‚
    â”‚  4. Update invoice status          â”‚
    â”‚  5. Create investment record       â”‚
    â”‚  6. Emit WebSocket events          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚                 â”‚                  â”‚
             â–¼                 â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Notify Seller  â”‚ â”‚ Notify       â”‚ â”‚ Broadcast to   â”‚
    â”‚ 'invoiceFunded'â”‚ â”‚ Investor     â”‚ â”‚ All Users      â”‚
    â”‚                â”‚ â”‚ 'investment  â”‚ â”‚ 'invoiceUpdated'â”‚
    â”‚ âœ… Funded!     â”‚ â”‚ Success'     â”‚ â”‚                â”‚
    â”‚ ğŸ’° +â‚¹90,000    â”‚ â”‚ âœ… Success!  â”‚ â”‚ ğŸ”„ Status:     â”‚
    â”‚                â”‚ â”‚ ğŸ’° -â‚¹90,000  â”‚ â”‚    funded      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATA FLOW                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SELLER CREATES INVOICE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Seller   â”‚
â”‚ Browser  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. Fill Form
     â”‚    - Invoice Number
     â”‚    - Amount: â‚¹100,000
     â”‚    - Buyer Details
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST Request â”‚
â”‚ /invoices/   â”‚
â”‚ create       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Processing          â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ 1. Validate Data        â”‚â”‚
â”‚ â”‚ 2. Save to MongoDB      â”‚â”‚
â”‚ â”‚ 3. Status = 'listed'    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ MongoDB                 â”‚â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚ â”‚ â”‚ Invoice Collection  â”‚ â”‚â”‚
â”‚ â”‚ â”‚ {                   â”‚ â”‚â”‚
â”‚ â”‚ â”‚   _id: "abc123"     â”‚ â”‚â”‚
â”‚ â”‚ â”‚   number: "INV-001" â”‚ â”‚â”‚
â”‚ â”‚ â”‚   amount: 100000    â”‚ â”‚â”‚
â”‚ â”‚ â”‚   status: "listed"  â”‚ â”‚â”‚
â”‚ â”‚ â”‚   sellerId: "xyz"   â”‚ â”‚â”‚
â”‚ â”‚ â”‚ }                   â”‚ â”‚â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebSocket Broadcast         â”‚
â”‚                             â”‚
â”‚ io.emit('newInvoiceListed', â”‚
â”‚   {                         â”‚
â”‚     id: "abc123",           â”‚
â”‚     invoiceNumber: "INV-001"â”‚
â”‚     amount: 100000,         â”‚
â”‚     seller: "ABC Corp",     â”‚
â”‚     timestamp: Date.now()   â”‚
â”‚   }                         â”‚
â”‚ )                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Real-Time
              â”‚ < 50ms
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ All Investor Browsers       â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ socket.on(              â”‚â”‚
â”‚ â”‚   'newInvoiceListed',   â”‚â”‚
â”‚ â”‚   (data) => {           â”‚â”‚
â”‚ â”‚     showNotification()  â”‚â”‚
â”‚ â”‚     updateMarketplace() â”‚â”‚
â”‚ â”‚   }                     â”‚â”‚
â”‚ â”‚ )                       â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


INVESTOR FUNDS INVOICE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Investor â”‚
â”‚ Browser  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ 1. Click "Invest Now"
     â”‚ 2. Enter Amount: â‚¹90,000
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST Request â”‚
â”‚ /invoices/   â”‚
â”‚ :id/fund     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend Processing                      â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ 1. Get Investor Wallet              â”‚â”‚
â”‚ â”‚    Balance: â‚¹10,00,000              â”‚â”‚
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ 2. Validate Balance                 â”‚â”‚
â”‚ â”‚    â‚¹10,00,000 >= â‚¹90,000 âœ…        â”‚â”‚
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ 3. Deduct from Investor             â”‚â”‚
â”‚ â”‚    â‚¹10,00,000 - â‚¹90,000 = â‚¹9,10,000â”‚â”‚
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ 4. Add to Seller                    â”‚â”‚
â”‚ â”‚    â‚¹10,00,000 + â‚¹90,000 = â‚¹10,90,000â”‚â”‚
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ 5. Update Invoice                   â”‚â”‚
â”‚ â”‚    status: 'funded'                 â”‚â”‚
â”‚ â”‚    investorId: investor._id         â”‚â”‚
â”‚ â”‚                                     â”‚â”‚
â”‚ â”‚ 6. Create Investment Record         â”‚â”‚
â”‚ â”‚    amount: â‚¹90,000                  â”‚â”‚
â”‚ â”‚    expectedReturn: â‚¹1,00,000        â”‚â”‚
â”‚ â”‚    profit: â‚¹10,000                  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebSocket Notifications                 â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ To Seller:                          â”‚â”‚
â”‚ â”‚ emit('invoiceFunded', {             â”‚â”‚
â”‚ â”‚   invoiceNumber: "INV-001",         â”‚â”‚
â”‚ â”‚   amount: 90000,                    â”‚â”‚
â”‚ â”‚   investor: "Investment Corp",      â”‚â”‚
â”‚ â”‚   newBalance: 1090000               â”‚â”‚
â”‚ â”‚ })                                  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ To Investor:                        â”‚â”‚
â”‚ â”‚ emit('investmentSuccess', {         â”‚â”‚
â”‚ â”‚   invoiceNumber: "INV-001",         â”‚â”‚
â”‚ â”‚   amount: 90000,                    â”‚â”‚
â”‚ â”‚   expectedReturn: 100000,           â”‚â”‚
â”‚ â”‚   profit: 10000,                    â”‚â”‚
â”‚ â”‚   newBalance: 910000                â”‚â”‚
â”‚ â”‚ })                                  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ To All Users:                       â”‚â”‚
â”‚ â”‚ emit('invoiceUpdated', {            â”‚â”‚
â”‚ â”‚   id: "abc123",                     â”‚â”‚
â”‚ â”‚   status: "funded",                 â”‚â”‚
â”‚ â”‚   invoiceNumber: "INV-001"          â”‚â”‚
â”‚ â”‚ })                                  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Wallet Transaction Flow

```
BEFORE TRANSACTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Investor Wallet    â”‚         â”‚  Seller Wallet      â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚  Balance:           â”‚         â”‚  Balance:           â”‚
â”‚  â‚¹10,00,000         â”‚         â”‚  â‚¹10,00,000         â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚  Transactions: []   â”‚         â”‚  Transactions: []   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


DURING TRANSACTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Investor Wallet    â”‚         â”‚  Seller Wallet      â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚  Balance:           â”‚         â”‚  Balance:           â”‚
â”‚  â‚¹10,00,000         â”‚         â”‚  â‚¹10,00,000         â”‚
â”‚       â†“             â”‚         â”‚       â†‘             â”‚
â”‚    -â‚¹90,000         â”‚         â”‚    +â‚¹90,000         â”‚
â”‚       â†“             â”‚         â”‚       â†‘             â”‚
â”‚  â‚¹9,10,000 âœ…       â”‚         â”‚  â‚¹10,90,000 âœ…      â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚  Transactions:      â”‚         â”‚  Transactions:      â”‚
â”‚  [{                 â”‚         â”‚  [{                 â”‚
â”‚    type: 'debit'    â”‚         â”‚    type: 'credit'   â”‚
â”‚    amount: 90000    â”‚         â”‚    amount: 90000    â”‚
â”‚    desc: 'Invest'   â”‚         â”‚    desc: 'Funded'   â”‚
â”‚  }]                 â”‚         â”‚  }]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


AFTER TRANSACTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Investor Wallet    â”‚         â”‚  Seller Wallet      â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚  Balance:           â”‚         â”‚  Balance:           â”‚
â”‚  â‚¹9,10,000 ğŸ’°       â”‚         â”‚  â‚¹10,90,000 ğŸ’°      â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚  Available:         â”‚         â”‚  Received:          â”‚
â”‚  â‚¹9,10,000          â”‚         â”‚  â‚¹90,000            â”‚
â”‚                     â”‚         â”‚                     â”‚
â”‚  Expected Return:   â”‚         â”‚  Profit: â‚¹10,000    â”‚
â”‚  â‚¹1,00,000          â”‚         â”‚  (when buyer pays)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Real-Time Event Timeline

```
TIME    SELLER              BACKEND                 INVESTOR
â•â•â•â•    â•â•â•â•â•â•              â•â•â•â•â•â•â•                 â•â•â•â•â•â•â•â•

00:00   Create Invoice
        â†“
00:01                       Save to DB
                            â†“
00:02                       Emit WebSocket
                            â†“
00:03                                               ğŸ”” Notification!
                                                    "New Invoice"
                                                    â†“
00:10                                               Click "Invest"
                                                    â†“
00:11                       Validate Balance
                            â†“
00:12                       Update Wallets
                            â†“
00:13                       Emit Events
                            â†“
00:14   ğŸ”” Notification!                            ğŸ”” Notification!
        "Invoice Funded"                            "Investment Success"
        ğŸ’° +â‚¹90,000                                 ğŸ’° -â‚¹90,000
        â†“                                           â†“
00:15   Dashboard Updates                           Dashboard Updates
        Stats Refresh                               Portfolio Updates
        âœ… Complete                                 âœ… Complete
```

## Component Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND COMPONENTS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useRealTimeData  â”‚  â† Custom Hook
â”‚ Hook             â”‚
â”‚                  â”‚
â”‚ â€¢ isConnected    â”‚
â”‚ â€¢ notifications  â”‚
â”‚ â€¢ newInvoices    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Provides Data
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Dashboard   â”‚  â”‚ Marketplace  â”‚  â”‚ Notificationsâ”‚     â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ Stats      â”‚  â”‚ â€¢ Invoices   â”‚  â”‚ â€¢ Bell Icon  â”‚     â”‚
â”‚  â”‚ â€¢ Wallet     â”‚  â”‚ â€¢ Filters    â”‚  â”‚ â€¢ Badge      â”‚     â”‚
â”‚  â”‚ â€¢ Charts     â”‚  â”‚ â€¢ Invest Btn â”‚  â”‚ â€¢ Dropdown   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â”‚                    â”‚                    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ React Query
                              â”‚ Auto-Invalidate
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  API Service     â”‚
                    â”‚                  â”‚
                    â”‚ â€¢ invoiceAPI     â”‚
                    â”‚ â€¢ userAPI        â”‚
                    â”‚ â€¢ walletAPI      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Legend:**
- â•â•â• : Process Flow
- â”€â”€â”€ : Data Flow
- â†“ â†‘ : Direction
- ğŸ””  : Notification
- ğŸ’°  : Money Transaction
- âœ…  : Success
- âš ï¸  : Warning

---

**This diagram shows the complete real-time flow of the invoice financing platform!**
