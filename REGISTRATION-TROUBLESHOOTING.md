# Registration Troubleshooting Guide\n\n## Common Registration Issues and Solutions\n\n### 1. \"User already exists\" Error (400 Bad Request)\n\n**Problem**: The email address you're trying to register with already exists in the database.\n\n**Solutions**:\n- Use a different email address\n- If you already have an account, go to the login page instead\n- If you forgot your password, use the password reset feature (if implemented)\n\n**To check existing users**:\n```bash\nnode check-users.js\n```\n\n**To clean up test users**:\n```bash\nnode cleanup-test-users.js\n```\n\n### 2. \"Missing required fields\" Error\n\n**Problem**: Some required fields are not filled in the registration form.\n\n**Required fields**:\n- Email\n- Password (minimum 6 characters)\n- Role (seller/buyer/investor)\n- First Name\n- Last Name\n- Phone\n- Company Name\n\n### 3. Backend Connection Issues\n\n**Problem**: Frontend cannot connect to the backend server.\n\n**Solutions**:\n1. Make sure the backend server is running:\n   ```bash\n   cd backend\n   npm run dev\n   ```\n\n2. Check if the server is listening on port 5005:\n   ```bash\n   netstat -an | findstr :5005\n   ```\n\n3. Verify the API URL in frontend/.env:\n   ```\n   REACT_APP_API_URL=http://localhost:5005/api\n   ```\n\n### 4. Database Connection Issues\n\n**Problem**: Backend cannot connect to MongoDB.\n\n**Solutions**:\n1. Make sure MongoDB is running:\n   ```bash\n   mongod\n   ```\n\n2. Check the MongoDB URI in backend/.env:\n   ```\n   MONGODB_URI=mongodb://localhost:27017/invoice-financing\n   ```\n\n### 5. Testing Registration API Directly\n\n**Test with curl**:\n```bash\ncurl -X POST http://localhost:5005/api/auth/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"unique@example.com\",\n    \"password\": \"password123\",\n    \"role\": \"seller\",\n    \"profile\": {\n      \"firstName\": \"Test\",\n      \"lastName\": \"User\",\n      \"phone\": \"1234567890\",\n      \"company\": \"Test Company\"\n    }\n  }'\n```\n\n**Test with Node.js**:\n```bash\nnode test-registration-unique.js\n```\n\n### 6. Frontend Error Handling Improvements\n\nThe frontend now provides clearer error messages:\n- \"An account with this email already exists. Please use a different email or try logging in.\"\n- \"Please fill in all required fields.\"\n- \"Please enter a valid email address.\"\n- \"Password must be at least 6 characters long.\"\n- \"Cannot connect to server. Please make sure the backend is running.\"\n\n### 7. Debugging Steps\n\n1. **Check browser console** for detailed error messages\n2. **Check backend logs** for server-side errors\n3. **Verify network requests** in browser DevTools Network tab\n4. **Test API endpoints** directly using the test scripts\n5. **Check database** for existing users\n\n### 8. Environment Setup Checklist\n\n- [ ] Node.js installed (v16+)\n- [ ] MongoDB running\n- [ ] Backend dependencies installed (`npm install` in backend/)\n- [ ] Frontend dependencies installed (`npm install` in frontend/)\n- [ ] Environment files configured (.env in both backend/ and frontend/)\n- [ ] Backend server running on port 5005\n- [ ] Frontend running on port 3000\n\n### 9. Quick Fix Commands\n\n```bash\n# Start everything from scratch\ncd backend && npm install && npm run dev &\ncd ../frontend && npm install && npm start &\n\n# Clean up test data\nnode cleanup-test-users.js\n\n# Test registration API\nnode test-registration-unique.js\n```\n\n### 10. Contact Support\n\nIf none of these solutions work:\n1. Check the GitHub issues\n2. Create a new issue with:\n   - Error message\n   - Browser console logs\n   - Backend server logs\n   - Steps to reproduce\n